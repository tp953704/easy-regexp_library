## Lerna

</br>

### 甚麼是Lerna呢?
> Lerna是一種工具，用於優化使用git和npm管理多包存儲庫的工作流程。
lernaJs是由Babel團隊出的一個多包管理工具。因為Babel包含很多子包，以前都是放在多個倉庫裡的，管理比較困難，
</br>
特別是有調用系統內包的時候，發布比較麻煩。所以為了能更好更快的誇包管理，babel推出了lernaJs，使用了monorepo的概念，現在React,Babel,Angular,Jest都在使用這個工具來管理包。
 ##### 你可以想像，這個工具會把一個大型庫拆成好幾個獨立開源庫，方便各自管理。
</br>

接下來我們就直接實作喔

- 安裝
```//官方建議下載 2.X 版
npm install --global lerna

```

- 建立一個git存庫
```
git init lerna-repo && cd lerna-repo
```

- Lerna倉庫初始化
```
lerna init
```
> 小提醒 : package.json檔案裡，有一個 `"private": true` 他的意思是檔案部會發部(publish)喔。發布時可以將它做修改

```
{
  "name": "XXX",
  "private": true,
  "devDependencies": {
    "lerna": "^3.22.1"
  }
}
```

- 再來我們先創建一個子庫八
```
lerna create firstRepo
```
然後我們會得到這樣的目錄
```
lerna-repo/
  packages/          // 子包都放在这个目录中
      firstRepo/
          _tests_
            firstRepo.test.js
          lib
            firstRepo.js
          package.json
          read.me
  package.json
  lerna.json         // lerna js的配置文件
  
```

> 在這裡可以把firstRepo當成一個庫，裡面會有單元這是為編譯的原始碼和read.me

</br>

接下來我們開始繼續時做了喔

- 先在lerna.json 添加 `自動添加CHANGELOG.md` 設置

```
"command": {
  "publish": {
    "conventionalCommits": true
  }
}
```
